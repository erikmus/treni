module.exports=[48972,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},23516,a=>{"use strict";var b=a.i(78060);a.s(["ChevronDownIcon",()=>b.default])},78060,a=>{"use strict";let b=(0,a.i(28761).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["default",()=>b])},58547,a=>{"use strict";var b=a.i(98675),c=a.i(4023),d=a.i(25431),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(760);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],58547)},30893,a=>{"use strict";var b=a.i(4023);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},50922,a=>{"use strict";let b=(0,a.i(28761).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],50922)},40594,a=>{"use strict";var b=a.i(98675),c=a.i(4023),d=a.i(21009),e=a.i(3604);let f=(0,a.i(28761).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var g=a.i(80763),h=a.i(50922),i=a.i(49377),j=a.i(39524),k=a.i(28503),l=a.i(58547),m=a.i(47885),n=a.i(51444);let o=[{value:"run",label:"Hardlopen",icon:"ðŸƒ"},{value:"walk",label:"Wandelen",icon:"ðŸš¶"},{value:"cycling",label:"Fietsen",icon:"ðŸš´"},{value:"swimming",label:"Zwemmen",icon:"ðŸŠ"},{value:"cross_training",label:"Cross-training",icon:"ðŸ‹ï¸"},{value:"other",label:"Overig",icon:"ðŸ’ª"}],p=[{value:"great",label:"Fantastisch",icon:"ðŸ¤©"},{value:"good",label:"Goed",icon:"ðŸ˜Š"},{value:"okay",label:"OkÃ©",icon:"ðŸ˜"},{value:"tired",label:"Moe",icon:"ðŸ˜“"},{value:"exhausted",label:"Uitgeput",icon:"ðŸ˜«"}];function q(){let a=(0,d.useRouter)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(()=>new Date().toISOString().split("T")[0]),[y,z]=(0,c.useState)(()=>{let a=new Date;return`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)("");async function Q(b){if(b.preventDefault(),!s)return void i.toast.error("Selecteer een type activiteit");let c=3600*(parseInt(A)||0)+60*(parseInt(C)||0)+(parseInt(E)||0);if(0===c)return void i.toast.error("Voer een duur in");r(!0);try{let b,d=(0,n.createClient)(),{data:{user:e}}=await d.auth.getUser();if(!e){i.toast.error("Je bent niet ingelogd"),a.push("/login");return}let f=G?parseFloat(G.replace(",",".")):null,g=null;f&&f>0&&(g=c/f);let h=new Date(`${w}T${y}`),j=new Date(h.getTime()+1e3*c),k=u.trim()||(b=o.find(a=>a.value===s)?.label||"Training",f&&f>=1?`${b} - ${f.toFixed(1)} km`:b),{data:l,error:m}=await d.from("activities").insert({user_id:e.id,source:"manual",activity_type:s,title:k,started_at:h.toISOString(),finished_at:j.toISOString(),duration_seconds:c,distance_meters:f?1e3*f:null,avg_pace_sec_per_km:g,feeling:I||null,avg_heart_rate:K?parseInt(K):null,calories:M?parseInt(M):null,description:O.trim()||null}).select().single();if(m)throw m;i.toast.success("Activiteit toegevoegd!"),a.push(`/dashboard/activities/${l.id}`)}catch(a){console.error("Error creating activity:",a),i.toast.error("Er ging iets mis bij het opslaan")}finally{r(!1)}}return(0,b.jsxs)("div",{className:"flex flex-col gap-6 py-4 md:py-6 px-4 lg:px-6 max-w-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(j.Button,{variant:"ghost",size:"icon",asChild:!0,children:(0,b.jsx)(e.default,{href:"/dashboard/activities",children:(0,b.jsx)(f,{className:"h-5 w-5"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Activiteit toevoegen"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Voeg handmatig een training of activiteit toe"})]})]}),(0,b.jsxs)("form",{onSubmit:Q,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"activity_type",children:"Type activiteit *"}),(0,b.jsxs)(m.Select,{value:s,onValueChange:t,children:[(0,b.jsx)(m.SelectTrigger,{id:"activity_type",className:"w-full",children:(0,b.jsx)(m.SelectValue,{placeholder:"Selecteer type"})}),(0,b.jsx)(m.SelectContent,{children:o.map(a=>(0,b.jsx)(m.SelectItem,{value:a.value,children:(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{children:a.icon}),(0,b.jsx)("span",{children:a.label})]})},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"title",children:"Titel (optioneel)"}),(0,b.jsx)(k.Input,{id:"title",value:u,onChange:a=>v(a.target.value),placeholder:"Bijv. Ochtendloop door het park"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Laat leeg om automatisch een titel te genereren"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"date",children:"Datum *"}),(0,b.jsx)(k.Input,{id:"date",type:"date",value:w,onChange:a=>x(a.target.value),max:new Date().toISOString().split("T")[0],required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"time",children:"Starttijd *"}),(0,b.jsx)(k.Input,{id:"time",type:"time",value:y,onChange:a=>z(a.target.value),required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Duur *"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(k.Input,{type:"number",min:"0",max:"23",value:A,onChange:a=>B(a.target.value),placeholder:"0"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Uren"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(k.Input,{type:"number",min:"0",max:"59",value:C,onChange:a=>D(a.target.value),placeholder:"0"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Minuten"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(k.Input,{type:"number",min:"0",max:"59",value:E,onChange:a=>F(a.target.value),placeholder:"0"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Seconden"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"distance",children:"Afstand (km)"}),(0,b.jsx)(k.Input,{id:"distance",type:"text",inputMode:"decimal",value:G,onChange:a=>H(a.target.value),placeholder:"Bijv. 5.5"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{children:"Hoe voelde je je?"}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-2",children:p.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>J(I===a.value?"":a.value),className:`flex flex-col items-center gap-1 p-3 rounded-lg border transition-all ${I===a.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[(0,b.jsx)("span",{className:"text-2xl",children:a.icon}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.label})]},a.value))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"heart_rate",children:"Gem. hartslag (bpm)"}),(0,b.jsx)(k.Input,{id:"heart_rate",type:"number",min:"30",max:"220",value:K,onChange:a=>L(a.target.value),placeholder:"Bijv. 145"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"calories",children:"CalorieÃ«n (kcal)"}),(0,b.jsx)(k.Input,{id:"calories",type:"number",min:"0",value:M,onChange:a=>N(a.target.value),placeholder:"Bijv. 350"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"description",children:"Notities"}),(0,b.jsx)("textarea",{id:"description",value:O,onChange:a=>P(a.target.value),placeholder:"Hoe ging de training? Eventuele opmerkingen...",rows:3,className:"w-full min-h-[80px] rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-xs placeholder:text-muted-foreground focus-visible:outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 dark:bg-input/30"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",asChild:!0,className:"flex-1",children:(0,b.jsx)(e.default,{href:"/dashboard/activities",children:"Annuleren"})}),(0,b.jsx)(j.Button,{type:"submit",disabled:q,className:"flex-1",children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Opslaan..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Plus,{className:"mr-2 h-4 w-4"}),"Activiteit toevoegen"]})})]})]})]})}a.s(["default",()=>q],40594)}];

//# sourceMappingURL=_7c3fb513._.js.map