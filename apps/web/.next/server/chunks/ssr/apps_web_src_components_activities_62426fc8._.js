module.exports=[25674,a=>{"use strict";let b;var c=a.i(98675),d=a.i(4023),e=a.i(21009),f=a.i(14369),g=a.i(28761);let h=(0,g.default)("file-up",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);var i=a.i(80763);let j=(0,g.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),k=(0,g.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var l=a.i(39524),m=a.i(92785);let n=d.default.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),o=()=>{let a=d.default.useContext(n);if(!a)throw Error("useDrawerContext must be used within a Drawer.Root");return a};function p(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function q(){return r(/^iPhone/)||r(/^iPad/)||r(/^Mac/)&&navigator.maxTouchPoints>1}function r(a){}!function(a){if(!a||"undefined"==typeof document)return;let b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",b.appendChild(c),c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}");let s=d.useEffect;"undefined"!=typeof document&&window.visualViewport;let t=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),u=0;function v(...a){return d.useCallback(function(...a){return b=>a.forEach(a=>{"function"==typeof a?a(b):null!=a&&(a.current=b)})}(...a),a)}let w=new WeakMap;function x(a,b,c=!1){if(!a||!(a instanceof HTMLElement))return;let d={};Object.entries(b).forEach(([b,c])=>{b.startsWith("--")?a.style.setProperty(b,c):(d[b]=a.style[b],a.style[b]=c)}),c||w.set(a,d)}let y=a=>{switch(a){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return a}};function z(a,b){if(!a)return null;let c=window.getComputedStyle(a),d=c.transform||c.webkitTransform||c.mozTransform,e=d.match(/^matrix3d\((.+)\)$/);return e?parseFloat(e[1].split(", ")[y(b)?13:12]):(e=d.match(/^matrix\((.+)\)$/))?parseFloat(e[1].split(", ")[y(b)?5:4]):null}function A(a,b){if(!a)return()=>{};let c=a.style.cssText;return Object.assign(a.style,b),()=>{a.style.cssText=c}}let B=[.32,.72,0,1],C="vaul-dragging";function D(a){let b=d.default.useRef(a);return d.default.useEffect(()=>{b.current=a}),d.default.useMemo(()=>(...a)=>null==b.current?void 0:b.current.call(b,...a),[])}function E({prop:a,defaultProp:b,onChange:c=()=>{}}){let[e,f]=function({defaultProp:a,onChange:b}){let c=d.default.useState(a),[e]=c,f=d.default.useRef(e),g=D(b);return d.default.useEffect(()=>{f.current!==e&&(g(e),f.current=e)},[e,f,g]),c}({defaultProp:b,onChange:c}),g=void 0!==a,h=g?a:e,i=D(c);return[h,d.default.useCallback(b=>{if(g){let c="function"==typeof b?b(a):b;c!==a&&i(c)}else f(b)},[g,a,f,i])]}let F=()=>()=>{},G=null;function H({open:a,onOpenChange:c,children:e,onDrag:f,onRelease:g,snapPoints:h,shouldScaleBackground:i=!1,setBackgroundColorOnScale:j=!0,closeThreshold:k=.25,scrollLockTimeout:l=100,dismissible:o=!0,handleOnly:r=!1,fadeFromIndex:v=h&&h.length-1,activeSnapPoint:A,setActiveSnapPoint:D,fixed:F,modal:H=!0,onClose:I,nested:J,noBodyStyles:K=!1,direction:L="bottom",defaultOpen:M=!1,disablePreventScroll:N=!0,snapToSequentialPoint:O=!1,preventScrollRestoration:P=!1,repositionInputs:Q=!0,onAnimationEnd:R,container:S,autoFocus:T=!1}){var U,V;let[W=!1,X]=E({defaultProp:M,prop:a,onChange:a=>{null==c||c(a),a||J||aA(),setTimeout(()=>{null==R||R(a)},500),a||(document.body.style.pointerEvents="auto")}}),[Y,Z]=d.default.useState(!1),[$,_]=d.default.useState(!1),[aa,ab]=d.default.useState(!1),ac=d.default.useRef(null),ad=d.default.useRef(null),ae=d.default.useRef(null),af=d.default.useRef(null),ag=d.default.useRef(null),ah=d.default.useRef(!1),ai=d.default.useRef(null),aj=d.default.useRef(0),ak=d.default.useRef(!1),al=d.default.useRef(!M),am=d.default.useRef(0),an=d.default.useRef(null),ao=d.default.useRef((null==(U=an.current)?void 0:U.getBoundingClientRect().height)||0),ap=d.default.useRef((null==(V=an.current)?void 0:V.getBoundingClientRect().width)||0),aq=d.default.useRef(0),ar=d.default.useCallback(a=>{h&&a===aw.length-1&&(ad.current=new Date)},[]),{activeSnapPoint:as,activeSnapPointIndex:at,setActiveSnapPoint:au,onRelease:av,snapPointsOffset:aw,onDrag:ax,shouldFade:ay,getPercentageDragged:az}=function({activeSnapPointProp:a,setActiveSnapPointProp:b,snapPoints:c,drawerRef:e,overlayRef:f,fadeFromIndex:g,onSnapPointChange:h,direction:i="bottom",container:j,snapToSequentialPoint:k}){let[l,m]=E({prop:a,defaultProp:null==c?void 0:c[0],onChange:b}),[n,o]=d.default.useState(void 0);d.default.useEffect(()=>{function a(){o({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);let p=d.default.useMemo(()=>l===(null==c?void 0:c[c.length-1])||null,[c,l]),q=d.default.useMemo(()=>{var a;return null!=(a=null==c?void 0:c.findIndex(a=>a===l))?a:null},[c,l]),r=c&&c.length>0&&(g||0===g)&&!Number.isNaN(g)&&c[g]===l||!c,s=d.default.useMemo(()=>{var a;let b=j?{width:j.getBoundingClientRect().width,height:j.getBoundingClientRect().height}:{width:0,height:0};return null!=(a=null==c?void 0:c.map(a=>{let c="string"==typeof a,d=0;if(c&&(d=parseInt(a,10)),y(i)){let e=c?d:n?a*b.height:0;return n?"bottom"===i?b.height-e:-b.height+e:e}let e=c?d:n?a*b.width:0;return n?"right"===i?b.width-e:-b.width+e:e}))?a:[]},[c,n,j]),t=d.default.useMemo(()=>null!==q?null==s?void 0:s[q]:null,[s,q]),u=d.default.useCallback(a=>{var b;let d=null!=(b=null==s?void 0:s.findIndex(b=>b===a))?b:null;h(d),x(e.current,{transition:`transform 0.5s cubic-bezier(${B.join(",")})`,transform:y(i)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`}),s&&d!==s.length-1&&void 0!==g&&d!==g&&d<g?x(f.current,{transition:`opacity 0.5s cubic-bezier(${B.join(",")})`,opacity:"0"}):x(f.current,{transition:`opacity 0.5s cubic-bezier(${B.join(",")})`,opacity:"1"}),m(null==c?void 0:c[Math.max(d,0)])},[e.current,c,s,g,f,m]);return d.default.useEffect(()=>{if(l||a){var b;let d=null!=(b=null==c?void 0:c.findIndex(b=>b===a||b===l))?b:-1;s&&-1!==d&&"number"==typeof s[d]&&u(s[d])}},[l,a,c,s,u]),{isLastSnapPoint:p,activeSnapPoint:l,shouldFade:r,getPercentageDragged:function(a,b){if(!c||"number"!=typeof q||!s||void 0===g)return null;let d=q===g-1;if(q>=g&&b)return 0;if(d&&!b)return 1;if(!r&&!d)return null;let e=d?q+1:q-1,f=a/Math.abs(d?s[e]-s[e-1]:s[e+1]-s[e]);return d?1-f:f},setActiveSnapPoint:m,activeSnapPointIndex:q,onRelease:function({draggedDistance:a,closeDrawer:b,velocity:d,dismissible:e}){if(void 0===g)return;let h="bottom"===i||"right"===i?(null!=t?t:0)-a:(null!=t?t:0)+a,j=q===g-1,l=0===q,m=a>0;if(j&&x(f.current,{transition:`opacity 0.5s cubic-bezier(${B.join(",")})`}),!k&&d>2&&!m)return void(e?b():u(s[0]));if(!k&&d>2&&m&&s&&c)return void u(s[c.length-1]);let n=null==s?void 0:s.reduce((a,b)=>"number"!=typeof a||"number"!=typeof b?a:Math.abs(b-h)<Math.abs(a-h)?b:a),o=y(i)?window.innerHeight:window.innerWidth;if(d>.4&&Math.abs(a)<.4*o){let a=m?1:-1;return a>0&&p&&c?void u(s[c.length-1]):void(l&&a<0&&e&&b(),null===q||u(s[q+a]))}u(n)},onDrag:function({draggedDistance:a}){if(null===t)return;let b="bottom"===i||"right"===i?t-a:t+a;("bottom"===i||"right"===i)&&b<s[s.length-1]||("top"===i||"left"===i)&&b>s[s.length-1]||x(e.current,{transform:y(i)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})},snapPointsOffset:s}}({snapPoints:h,activeSnapPointProp:A,setActiveSnapPointProp:D,drawerRef:an,fadeFromIndex:v,overlayRef:ac,onSnapPointChange:ar,direction:L,container:S,snapToSequentialPoint:O});!function(a={}){let{isDisabled:c}=a;s(()=>{if(!c)return 1==++u&&q(),()=>{0==--u&&(null==b||b())}},[c])}({isDisabled:!W||$||!H||aa||!Y||!Q||!N});let{restorePositionSetting:aA}=function({isOpen:a,modal:b,nested:c,hasBeenOpened:e,preventScrollRestoration:f,noBodyStyles:g}){let[h,i]=d.default.useState(()=>""),j=d.default.useRef(0),k=d.default.useCallback(()=>{if(p()&&null===G&&a&&!g){G={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};let{scrollX:a,innerHeight:b}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-j.current}px`,left:`${-a}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{let a=b-window.innerHeight;a&&j.current>=b&&(document.body.style.top=`${-(j.current+a)}px`)}),300)}},[a]),l=d.default.useCallback(()=>{if(p()&&null!==G&&!g){let a=-parseInt(document.body.style.top,10),b=-parseInt(document.body.style.left,10);Object.assign(document.body.style,G),window.requestAnimationFrame(()=>{f&&h!==window.location.href?i(window.location.href):window.scrollTo(b,a)}),G=null}},[h]);return d.default.useEffect(()=>{function a(){j.current=window.scrollY}return a(),window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[]),d.default.useEffect(()=>{if(b)return()=>{"undefined"==typeof document||document.querySelector("[data-vaul-drawer]")||l()}},[b,l]),d.default.useEffect(()=>{!c&&e&&(a?(window.matchMedia("(display-mode: standalone)").matches||k(),b||window.setTimeout(()=>{l()},500)):l())},[a,e,h,b,c,k,l]),{restorePositionSetting:l}}({isOpen:W,modal:H,nested:null!=J&&J,hasBeenOpened:Y,preventScrollRestoration:P,noBodyStyles:K});function aB(){return(window.innerWidth-26)/window.innerWidth}function aC(a,b){var c;let d=a,e=null==(c=window.getSelection())?void 0:c.toString(),f=an.current?z(an.current,L):null,g=new Date;if("SELECT"===d.tagName||d.hasAttribute("data-vaul-no-drag")||d.closest("[data-vaul-no-drag]"))return!1;if("right"===L||"left"===L)return!0;if(ad.current&&g.getTime()-ad.current.getTime()<500)return!1;if(null!==f&&("bottom"===L?f>0:f<0))return!0;if(e&&e.length>0)return!1;if(ag.current&&g.getTime()-ag.current.getTime()<l&&0===f||b)return ag.current=g,!1;for(;d;){if(d.scrollHeight>d.clientHeight){if(0!==d.scrollTop)return ag.current=new Date,!1;if("dialog"===d.getAttribute("role"))break}d=d.parentNode}return!0}function aD(a){$&&an.current&&(an.current.classList.remove(C),ah.current=!1,_(!1),af.current=new Date),null==I||I(),a||X(!1),setTimeout(()=>{h&&au(h[0])},500)}function aE(){if(!an.current)return;let a=document.querySelector("[data-vaul-drawer-wrapper]"),b=z(an.current,L);x(an.current,{transform:"translate3d(0, 0, 0)",transition:`transform 0.5s cubic-bezier(${B.join(",")})`}),x(ac.current,{transition:`opacity 0.5s cubic-bezier(${B.join(",")})`,opacity:"1"}),i&&b&&b>0&&W&&x(a,{borderRadius:"8px",overflow:"hidden",...y(L)?{transform:`scale(${aB()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${aB()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${B.join(",")})`},!0)}return d.default.useEffect(()=>{window.requestAnimationFrame(()=>{al.current=!0})},[]),d.default.useEffect(()=>{var a;function b(){var a,b;if(an.current&&Q&&((a=document.activeElement)instanceof HTMLInputElement&&!t.has(a.type)||a instanceof HTMLTextAreaElement||a instanceof HTMLElement&&a.isContentEditable||ak.current)){let a=(null==(b=window.visualViewport)?void 0:b.height)||0,c=window.innerHeight,d=c-a,e=an.current.getBoundingClientRect().height||0;aq.current||(aq.current=e);let f=an.current.getBoundingClientRect().top;if(Math.abs(am.current-d)>60&&(ak.current=!ak.current),h&&h.length>0&&aw&&at&&(d+=aw[at]||0),am.current=d,e>a||ak.current){let b=an.current.getBoundingClientRect().height,g=b;b>a&&(g=a-(e>.8*c?f:26)),F?an.current.style.height=`${b-Math.max(d,0)}px`:an.current.style.height=`${Math.max(g,a-f)}px`}else navigator.userAgent,an.current.style.height=`${aq.current}px`;h&&h.length>0&&!ak.current?an.current.style.bottom="0px":an.current.style.bottom=`${Math.max(d,0)}px`}}return null==(a=window.visualViewport)||a.addEventListener("resize",b),()=>{var a;return null==(a=window.visualViewport)?void 0:a.removeEventListener("resize",b)}},[at,h,aw]),d.default.useEffect(()=>(W&&(x(document.documentElement,{scrollBehavior:"auto"}),ad.current=new Date),()=>{!function(a,b){if(!a||!(a instanceof HTMLElement))return;let c=w.get(a);c&&(a.style[b]=c[b])}(document.documentElement,"scrollBehavior")}),[W]),d.default.useEffect(()=>{H||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[H]),d.default.createElement(m.Root,{defaultOpen:M,onOpenChange:a=>{(o||a)&&(a?Z(!0):aD(!0),X(a))},open:W},d.default.createElement(n.Provider,{value:{activeSnapPoint:as,snapPoints:h,setActiveSnapPoint:au,drawerRef:an,overlayRef:ac,onOpenChange:c,onPress:function(a){var b,c;!o&&!h||(!an.current||an.current.contains(a.target))&&(ao.current=(null==(b=an.current)?void 0:b.getBoundingClientRect().height)||0,ap.current=(null==(c=an.current)?void 0:c.getBoundingClientRect().width)||0,_(!0),ae.current=new Date,q(),a.target.setPointerCapture(a.pointerId),aj.current=y(L)?a.pageY:a.pageX)},onRelease:function(a){var b,c;if(!$||!an.current)return;an.current.classList.remove(C),ah.current=!1,_(!1),af.current=new Date;let d=z(an.current,L);if(!a||!aC(a.target,!1)||!d||Number.isNaN(d)||null===ae.current)return;let e=af.current.getTime()-ae.current.getTime(),f=aj.current-(y(L)?a.pageY:a.pageX),i=Math.abs(f)/e;if(i>.05&&(ab(!0),setTimeout(()=>{ab(!1)},200)),h){av({draggedDistance:f*("bottom"===L||"right"===L?1:-1),closeDrawer:aD,velocity:i,dismissible:o}),null==g||g(a,!0);return}if("bottom"===L||"right"===L?f>0:f<0){aE(),null==g||g(a,!0);return}if(i>.4){aD(),null==g||g(a,!1);return}let j=Math.min(null!=(b=an.current.getBoundingClientRect().height)?b:0,window.innerHeight),l=Math.min(null!=(c=an.current.getBoundingClientRect().width)?c:0,window.innerWidth);if(Math.abs(d)>=("left"===L||"right"===L?l:j)*k){aD(),null==g||g(a,!1);return}null==g||g(a,!0),aE()},onDrag:function(a){if(an.current&&$){let b="bottom"===L||"right"===L?1:-1,c=(aj.current-(y(L)?a.pageY:a.pageX))*b,d=c>0,e=h&&!o&&!d;if(e&&0===at)return;let g=Math.abs(c),j=document.querySelector("[data-vaul-drawer-wrapper]"),k=g/("bottom"===L||"top"===L?ao.current:ap.current),l=az(g,d);if(null!==l&&(k=l),e&&k>=1||!ah.current&&!aC(a.target,d))return;if(an.current.classList.add(C),ah.current=!0,x(an.current,{transition:"none"}),x(ac.current,{transition:"none"}),h&&ax({draggedDistance:c}),d&&!h){let a=Math.min(-(8*(Math.log(c+1)-2)*1),0)*b;x(an.current,{transform:y(L)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`});return}let m=1-k;if((ay||v&&at===v-1)&&(null==f||f(a,k),x(ac.current,{opacity:`${m}`,transition:"none"},!0)),j&&ac.current&&i){let a=Math.min(aB()+k*(1-aB()),1),b=8-8*k,c=Math.max(0,14-14*k);x(j,{borderRadius:`${b}px`,transform:y(L)?`scale(${a}) translate3d(0, ${c}px, 0)`:`scale(${a}) translate3d(${c}px, 0, 0)`,transition:"none"},!0)}if(!h){let a=g*b;x(an.current,{transform:y(L)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`})}}},dismissible:o,shouldAnimate:al,handleOnly:r,isOpen:W,isDragging:$,shouldFade:ay,closeDrawer:aD,onNestedDrag:function(a,b){if(b<0)return;let c=(window.innerWidth-16)/window.innerWidth,d=c+b*(1-c),e=-16+16*b;x(an.current,{transform:y(L)?`scale(${d}) translate3d(0, ${e}px, 0)`:`scale(${d}) translate3d(${e}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(a){let b=a?(window.innerWidth-16)/window.innerWidth:1,c=a?-16:0;ai.current&&window.clearTimeout(ai.current),x(an.current,{transition:`transform 0.5s cubic-bezier(${B.join(",")})`,transform:y(L)?`scale(${b}) translate3d(0, ${c}px, 0)`:`scale(${b}) translate3d(${c}px, 0, 0)`}),!a&&an.current&&(ai.current=setTimeout(()=>{let a=z(an.current,L);x(an.current,{transition:"none",transform:y(L)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`})},500))},onNestedRelease:function(a,b){let c=y(L)?window.innerHeight:window.innerWidth,d=b?(c-16)/c:1,e=b?-16:0;b&&x(an.current,{transition:`transform 0.5s cubic-bezier(${B.join(",")})`,transform:y(L)?`scale(${d}) translate3d(0, ${e}px, 0)`:`scale(${d}) translate3d(${e}px, 0, 0)`})},keyboardIsOpen:ak,modal:H,snapPointsOffset:aw,activeSnapPointIndex:at,direction:L,shouldScaleBackground:i,setBackgroundColorOnScale:j,noBodyStyles:K,container:S,autoFocus:T}},e))}let I=d.default.forwardRef(function({...a},b){let{overlayRef:c,snapPoints:e,onRelease:f,shouldFade:g,isOpen:h,modal:i,shouldAnimate:j}=o(),k=v(b,c),l=e&&e.length>0;if(!i)return null;let n=d.default.useCallback(a=>f(a),[f]);return d.default.createElement(m.Overlay,{onMouseUp:n,ref:k,"data-vaul-overlay":"","data-vaul-snap-points":h&&l?"true":"false","data-vaul-snap-points-overlay":h&&g?"true":"false","data-vaul-animate":(null==j?void 0:j.current)?"true":"false",...a})});I.displayName="Drawer.Overlay";let J=d.default.forwardRef(function({onPointerDownOutside:a,style:b,onOpenAutoFocus:c,...e},f){let{drawerRef:g,onPress:h,onRelease:i,onDrag:j,keyboardIsOpen:k,snapPointsOffset:l,activeSnapPointIndex:n,modal:p,isOpen:q,direction:r,snapPoints:s,container:t,handleOnly:u,shouldAnimate:w,autoFocus:x}=o(),[z,C]=d.default.useState(!1),D=v(f,g),E=d.default.useRef(null),G=d.default.useRef(null),H=d.default.useRef(!1),I=s&&s.length>0;function J(a){E.current=null,H.current=!1,i(a)}return!function(){let{direction:a,isOpen:b,shouldScaleBackground:c,setBackgroundColorOnScale:e,noBodyStyles:f}=o(),g=d.default.useRef(null),h=(0,d.useMemo)(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-26)/window.innerWidth}d.default.useEffect(()=>{if(b&&c){g.current&&clearTimeout(g.current);let b=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!b)return;!function(...a){}(e&&!f?A(document.body,{background:"black"}):F,A(b,{transformOrigin:y(a)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:"0.5s",transitionTimingFunction:`cubic-bezier(${B.join(",")})`}));let c=A(b,{borderRadius:"8px",overflow:"hidden",...y(a)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),g.current=window.setTimeout(()=>{h?document.body.style.background=h:document.body.style.removeProperty("background")},500)}}},[b,c,h])}(),d.default.useEffect(()=>{I&&window.requestAnimationFrame(()=>{C(!0)})},[]),d.default.createElement(m.Content,{"data-vaul-drawer-direction":r,"data-vaul-drawer":"","data-vaul-delayed-snap-points":z?"true":"false","data-vaul-snap-points":q&&I?"true":"false","data-vaul-custom-container":t?"true":"false","data-vaul-animate":(null==w?void 0:w.current)?"true":"false",...e,ref:D,style:l&&l.length>0?{"--snap-point-height":`${l[null!=n?n:0]}px`,...b}:b,onPointerDown:a=>{u||(null==e.onPointerDown||e.onPointerDown.call(e,a),E.current={x:a.pageX,y:a.pageY},h(a))},onOpenAutoFocus:a=>{null==c||c(a),x||a.preventDefault()},onPointerDownOutside:b=>{(null==a||a(b),!p||b.defaultPrevented)?b.preventDefault():k.current&&(k.current=!1)},onFocusOutside:a=>{if(!p)return void a.preventDefault()},onPointerMove:a=>{if(G.current=a,u||(null==e.onPointerMove||e.onPointerMove.call(e,a),!E.current))return;let b=a.pageY-E.current.y,c=a.pageX-E.current.x,d="touch"===a.pointerType?10:2;((a,b,c=0)=>{if(H.current)return!0;let d=Math.abs(a.y),e=Math.abs(a.x),f=e>d,g=["bottom","right"].includes(b)?1:-1;if("left"===b||"right"===b){if(!(a.x*g<0)&&e>=0&&e<=c)return f}else if(!(a.y*g<0)&&d>=0&&d<=c)return!f;return H.current=!0,!0})({x:c,y:b},r,d)?j(a):(Math.abs(c)>d||Math.abs(b)>d)&&(E.current=null)},onPointerUp:a=>{null==e.onPointerUp||e.onPointerUp.call(e,a),E.current=null,H.current=!1,i(a)},onPointerOut:a=>{null==e.onPointerOut||e.onPointerOut.call(e,a),J(G.current)},onContextMenu:a=>{null==e.onContextMenu||e.onContextMenu.call(e,a),G.current&&J(G.current)}})});J.displayName="Drawer.Content";let K=d.default.forwardRef(function({preventCycle:a=!1,children:b,...c},e){let{closeDrawer:f,isDragging:g,snapPoints:h,activeSnapPoint:i,setActiveSnapPoint:j,dismissible:k,handleOnly:l,isOpen:m,onPress:n,onDrag:p}=o(),q=d.default.useRef(null),r=d.default.useRef(!1);function s(){q.current&&window.clearTimeout(q.current),r.current=!1}return d.default.createElement("div",{onClick:function(){r.current?s():window.setTimeout(()=>{!function(){if(g||a||r.current)return s();if(s(),!h||0===h.length){k||f();return}if(i===h[h.length-1]&&k)return f();let b=h.findIndex(a=>a===i);-1===b||j(h[b+1])}()},120)},onPointerCancel:s,onPointerDown:a=>{l&&n(a),q.current=window.setTimeout(()=>{r.current=!0},250)},onPointerMove:a=>{l&&p(a)},ref:e,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...c},d.default.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},b))});K.displayName="Drawer.Handle";let L={Root:H,NestedRoot:function({onDrag:a,onOpenChange:b,open:c,...e}){let{onNestedDrag:f,onNestedOpenChange:g,onNestedRelease:h}=o();if(!f)throw Error("Drawer.NestedRoot must be placed in another drawer");return d.default.createElement(H,{nested:!0,open:c,onClose:()=>{g(!1)},onDrag:(b,c)=>{f(b,c),null==a||a(b,c)},onOpenChange:a=>{a&&g(a),null==b||b(a)},onRelease:h,...e})},Content:J,Overlay:I,Trigger:m.Trigger,Portal:function(a){let b=o(),{container:c=b.container,...e}=a;return d.default.createElement(m.Portal,{container:c,...e})},Handle:K,Close:m.Close,Title:m.Title,Description:m.Description};var M=a.i(760);function N({...a}){return(0,c.jsx)(L.Root,{"data-slot":"drawer",...a})}function O({...a}){return(0,c.jsx)(L.Trigger,{"data-slot":"drawer-trigger",...a})}function P({...a}){return(0,c.jsx)(L.Portal,{"data-slot":"drawer-portal",...a})}function Q({...a}){return(0,c.jsx)(L.Close,{"data-slot":"drawer-close",...a})}function R({className:a,...b}){return(0,c.jsx)(L.Overlay,{"data-slot":"drawer-overlay",className:(0,M.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function S({className:a,children:b,...d}){return(0,c.jsxs)(P,{"data-slot":"drawer-portal",children:[(0,c.jsx)(R,{}),(0,c.jsxs)(L.Content,{"data-slot":"drawer-content",className:(0,M.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",a),...d,children:[(0,c.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),b]})]})}function T({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"drawer-header",className:(0,M.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",a),...b})}function U({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"drawer-footer",className:(0,M.cn)("mt-auto flex flex-col gap-2 p-4",a),...b})}function V({className:a,...b}){return(0,c.jsx)(L.Title,{"data-slot":"drawer-title",className:(0,M.cn)("text-foreground font-semibold",a),...b})}function W({className:a,...b}){return(0,c.jsx)(L.Description,{"data-slot":"drawer-description",className:(0,M.cn)("text-muted-foreground text-sm",a),...b})}function X({trigger:a}){let[b,g]=(0,d.useState)(!1),[m,n]=(0,d.useState)("idle"),[o,p]=(0,d.useState)(null),[q,r]=(0,d.useState)(null),[s,t]=(0,d.useState)(null),[u,v]=(0,d.useState)(!1),w=(0,d.useRef)(null),x=(0,e.useRouter)(),y=()=>{n("idle"),p(null),r(null),t(null),v(!1)},z=a=>{if(!a.name.toLowerCase().endsWith(".tcx")){r("Alleen TCX bestanden worden ondersteund"),n("error");return}p(a),n("selected"),r(null)},A=async()=>{if(o){n("uploading"),r(null);try{let a=new FormData;a.append("file",o);let b=await fetch("/api/activities/upload",{method:"POST",body:a}),c=await b.json();if(!b.ok)throw Error(c.error||"Upload mislukt");n("success"),t(c.message),setTimeout(()=>{g(!1),y(),x.refresh()},1500)}catch(a){n("error"),r(a instanceof Error?a.message:"Er is een fout opgetreden")}}};return(0,c.jsxs)(N,{open:b,onOpenChange:g,children:[(0,c.jsx)(O,{asChild:!0,children:a||(0,c.jsxs)(l.Button,{variant:"outline",children:[(0,c.jsx)(f.Upload,{className:"mr-2 h-4 w-4"}),"TCX uploaden"]})}),(0,c.jsx)(S,{children:(0,c.jsxs)("div",{className:"mx-auto w-full max-w-md",children:[(0,c.jsxs)(T,{children:[(0,c.jsx)(V,{children:"Activiteit importeren"}),(0,c.jsx)(W,{children:"Upload een TCX bestand van Garmin Connect om je activiteit te importeren."})]}),(0,c.jsxs)("div",{className:"px-4 pb-4",children:["success"===m&&(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,c.jsx)("div",{className:"rounded-full bg-emerald-100 p-3 dark:bg-emerald-900/30",children:(0,c.jsx)(j,{className:"h-8 w-8 text-emerald-600 dark:text-emerald-400"})}),(0,c.jsx)("p",{className:"mt-4 font-medium text-emerald-600 dark:text-emerald-400",children:s||"Upload succesvol!"})]}),"success"!==m&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{onClick:()=>w.current?.click(),onDragOver:a=>{a.preventDefault(),v(!0)},onDragLeave:a=>{a.preventDefault(),v(!1)},onDrop:a=>{a.preventDefault(),v(!1);let b=a.dataTransfer.files[0];b&&z(b)},className:(0,M.cn)("relative cursor-pointer rounded-xl border-2 border-dashed p-8 transition-all",u?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50 hover:bg-muted/50","error"===m&&"border-destructive/50 bg-destructive/5"),children:[(0,c.jsx)("input",{ref:w,type:"file",accept:".tcx",onChange:a=>{let b=a.target.files?.[0];b&&z(b)},className:"hidden"}),(0,c.jsx)("div",{className:"flex flex-col items-center justify-center text-center",children:"uploading"===m?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Loader2,{className:"h-10 w-10 text-primary animate-spin"}),(0,c.jsx)("p",{className:"mt-4 text-sm text-muted-foreground",children:"Bezig met uploaden..."})]}):"error"===m?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(k,{className:"h-10 w-10 text-destructive"}),(0,c.jsx)("p",{className:"mt-4 font-medium text-destructive",children:q}),(0,c.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Klik om opnieuw te proberen"})]}):o?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h,{className:"h-10 w-10 text-primary"}),(0,c.jsx)("p",{className:"mt-4 font-medium",children:o.name}),(0,c.jsxs)("p",{className:"mt-1 text-sm text-muted-foreground",children:[(o.size/1024).toFixed(1)," KB"]}),(0,c.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:"Klik om een ander bestand te selecteren"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(f.Upload,{className:"h-10 w-10 text-muted-foreground"}),(0,c.jsxs)("p",{className:"mt-4 text-sm text-muted-foreground",children:[(0,c.jsx)("span",{className:"font-medium text-foreground",children:"Klik om te selecteren"})," ","of sleep een bestand hierheen"]}),(0,c.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:"Ondersteund: TCX bestanden"})]})})]}),(0,c.jsxs)("div",{className:"mt-4 rounded-lg bg-muted/50 p-4 text-sm",children:[(0,c.jsx)("p",{className:"font-medium",children:"Hoe exporteer je een TCX bestand?"}),(0,c.jsxs)("ol",{className:"mt-2 ml-4 list-decimal text-muted-foreground space-y-1",children:[(0,c.jsxs)("li",{children:["Ga naar ",(0,c.jsx)("a",{href:"https://connect.garmin.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline underline-offset-2",children:"Garmin Connect"})]}),(0,c.jsx)("li",{children:"Open de activiteit die je wilt exporteren"}),(0,c.jsx)("li",{children:"Klik op het tandwiel icoon (⚙️)"}),(0,c.jsx)("li",{children:'Kies "Exporteer naar TCX"'})]})]})]})]}),(0,c.jsx)(U,{children:"success"===m?(0,c.jsx)(Q,{asChild:!0,children:(0,c.jsx)(l.Button,{variant:"outline",children:"Sluiten"})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.Button,{onClick:A,disabled:!o||"uploading"===m,children:"uploading"===m?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploaden..."]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(f.Upload,{className:"mr-2 h-4 w-4"}),"Importeren"]})}),(0,c.jsx)(Q,{asChild:!0,children:(0,c.jsx)(l.Button,{variant:"outline",onClick:()=>{g(!1),setTimeout(y,300)},children:"Annuleren"})})]})})]})})]})}a.s(["UploadTCXDialog",()=>X],25674)},10378,a=>{"use strict";var b=a.i(98675),c=a.i(4023),d=a.i(4404);let e=process.env.NEXT_PUBLIC_MAPBOX_TOKEN,f=(0,d.default)(async()=>{},{loadableGenerated:{modules:[61373]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"h-[400px] flex items-center justify-center bg-muted/30 rounded-lg",children:(0,b.jsx)("div",{className:"text-muted-foreground",children:"Kaart laden..."})})});function g({trackpoints:a,className:d}){let g=(0,c.useMemo)(()=>a.filter(a=>void 0!==a.lat&&void 0!==a.lon&&!isNaN(a.lat)&&!isNaN(a.lon)),[a]);return g.length<2?null:(0,b.jsxs)("div",{className:`bg-card rounded-xl border overflow-hidden ${d||""}`,children:[(0,b.jsx)("div",{className:"p-4 pb-2 border-b",children:(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Route"})}),(0,b.jsx)("div",{className:"h-[400px] relative",children:(0,b.jsx)(f,{trackpoints:g,mapboxToken:e})})]})}a.s(["RouteMap",()=>g])},13827,a=>{"use strict";var b=a.i(98675),c=a.i(4023),d=a.i(3604),e=a.i(38221),f=a.i(91065),g=a.i(48347),h=a.i(56232),i=a.i(88839),j=a.i(73608),k=a.i(65990),l=a.i(96922),m=a.i(69739),n=a.i(39968);function o(a,b){let c,d,e=()=>(0,i.constructFrom)(b?.in,NaN),f=b?.additionalDigits??2,g=function(a){let b,c={},d=a.split(p);if(d.length>2)return c;if(/:/.test(d[0])?b=d[0]:(c.date=d[0],b=d[1],q.test(c.date)&&(c.date=a.split(q)[0],b=a.substr(c.date.length,a.length))),b){let a=r.exec(b);a?(c.time=b.replace(a[1],""),c.timezone=a[1]):c.time=b}return c}(a);if(g.date){let a=function(a,b){let c=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+b)+"})|(\\d{2}|[+-]\\d{"+(2+b)+"})$)"),d=a.match(c);if(!d)return{year:NaN,restDateString:""};let e=d[1]?parseInt(d[1]):null,f=d[2]?parseInt(d[2]):null;return{year:null===f?e:100*f,restDateString:a.slice((d[1]||d[2]).length)}}(g.date,f);c=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(null===b)return new Date(NaN);let m=a.match(s);if(!m)return new Date(NaN);let n=!!m[4],o=v(m[1]),p=v(m[2])-1,q=v(m[3]),r=v(m[4]),t=v(m[5])-1;if(n){let a,h;return(c=r,d=t,c>=1&&c<=53&&d>=0&&d<=6)?(e=b,f=r,g=t,(a=new Date(0)).setUTCFullYear(e,0,4),h=a.getUTCDay()||7,a.setUTCDate(a.getUTCDate()+((f-1)*7+g+1-h)),a):new Date(NaN)}{let a=new Date(0);return(h=b,i=p,j=q,i>=0&&i<=11&&j>=1&&j<=(x[i]||(y(h)?29:28))&&(k=b,(l=o)>=1&&l<=(y(k)?366:365)))?(a.setUTCFullYear(b,p,Math.max(o,q)),a):new Date(NaN)}}(a.restDateString,a.year)}if(!c||isNaN(+c))return e();let h=+c,j=0;if(g.time&&isNaN(j=function(a){var b,c,d;let e=a.match(t);if(!e)return NaN;let f=w(e[1]),g=w(e[2]),h=w(e[3]);return(b=f,c=g,d=h,24===b?0===c&&0===d:d>=0&&d<60&&c>=0&&c<60&&b>=0&&b<25)?f*m.millisecondsInHour+g*m.millisecondsInMinute+1e3*h:NaN}(g.time)))return e();if(g.timezone){if(isNaN(d=function(a){var b;if("Z"===a)return 0;let c=a.match(u);if(!c)return 0;let d="+"===c[1]?-1:1,e=parseInt(c[2]),f=c[3]&&parseInt(c[3])||0;return(b=f)>=0&&b<=59?d*(e*m.millisecondsInHour+f*m.millisecondsInMinute):NaN}(g.timezone)))return e()}else{let a=new Date(h+j),c=(0,n.toDate)(0,b?.in);return c.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),c.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),c}return(0,n.toDate)(h+j+d,b?.in)}let p=/[T ]/,q=/[Z ]/i,r=/([Z+-].*)$/,s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function v(a){return a?parseInt(a):1}function w(a){return a&&parseFloat(a.replace(",","."))||0}let x=[31,null,31,30,31,30,31,31,30,31,30,31];function y(a){return a%400==0||a%4==0&&a%100!=0}var z=a.i(52273),A=a.i(760),B=a.i(26819);let C=["M","D","W","D","V","Z","Z"],D=["ma","di","wo","do","vr","za","zo"];function E(a,b){return b?a>=15?"w-9 h-9 text-[10px]":a>=10?"w-8 h-8 text-[10px]":a>=5?"w-7 h-7 text-[10px]":"w-6 h-6 text-[9px]":a>=20?"w-14 h-14 text-sm":a>=15?"w-12 h-12 text-sm":a>=10?"w-11 h-11 text-xs":a>=5?"w-10 h-10 text-xs":"w-8 h-8 text-[10px]"}function F({activities:a,weeksToShow:m=52}){let{convertDistance:n,unitLabel:p}=(0,B.useDistanceUnit)(),q=(0,c.useMemo)(()=>{var a,b;let c=new Date;return(function(a,b){let{start:c,end:d}=(0,g.normalizeInterval)(b?.in,a),f=+c>+d,j=f?(0,e.startOfWeek)(d,b):(0,e.startOfWeek)(c,b),k=f?(0,e.startOfWeek)(c,b):(0,e.startOfWeek)(d,b);j.setHours(15),k.setHours(15);let l=+k.getTime(),m=j,n=b?.step??1;if(!n)return[];n<0&&(n=-n,f=!f);let o=[];for(;+m<=l;)m.setHours(0),o.push((0,i.constructFrom)(c,m)),(m=(0,h.addWeeks)(m,n)).setHours(15);return f?o.reverse():o})({start:(a=(0,e.startOfWeek)(c,{weekStartsOn:1}),b=m-1,(0,h.addWeeks)(a,-b,void 0)),end:(0,f.endOfWeek)(c,{weekStartsOn:1})},{weekStartsOn:1}).reverse()},[m]),r=(0,c.useMemo)(()=>{let b=new Map;return a.forEach(a=>{let c=o(a.started_at),d=(0,e.startOfWeek)(c,{weekStartsOn:1}),f=(0,j.format)(d,"yyyy-MM-dd");b.has(f)||b.set(f,[]),b.get(f).push(a)}),b},[a]);return(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("div",{className:"sticky top-0 bg-background z-10 border-b hidden md:block",children:(0,b.jsxs)("div",{className:"grid grid-cols-[160px_repeat(7,1fr)] gap-1 py-3 px-4",children:[(0,b.jsx)("div",{className:"text-lg font-bold",children:(0,j.format)(new Date,"yyyy")}),D.map(a=>(0,b.jsx)("div",{className:"text-center text-sm text-muted-foreground font-medium",children:a},a))]})}),(0,b.jsx)("div",{className:"sticky top-0 bg-background z-10 border-b md:hidden",children:(0,b.jsxs)("div",{className:"grid grid-cols-[90px_repeat(7,1fr)] gap-0.5 py-2 px-2",children:[(0,b.jsx)("div",{className:"text-base font-bold",children:(0,j.format)(new Date,"yyyy")}),C.map((a,c)=>(0,b.jsx)("div",{className:"text-center text-xs text-muted-foreground font-medium",children:a},c))]})}),(0,b.jsx)("div",{className:"divide-y",children:q.map(a=>{let c=(0,j.format)(a,"yyyy-MM-dd"),g=(0,f.endOfWeek)(a,{weekStartsOn:1}),h=r.get(c)||[],i=h.reduce((a,b)=>a+(Number(b.distance_meters)||0),0)/1e3,m=Array.from({length:7},(b,c)=>{let d=new Date(a);d.setDate(d.getDate()+c);let e=h.filter(a=>(0,k.isSameDay)(o(a.started_at),d));return{date:d,activities:e}}),q=(0,k.isSameDay)(a,(0,e.startOfWeek)(new Date,{weekStartsOn:1}));return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:(0,A.cn)("hidden md:grid grid-cols-[160px_repeat(7,1fr)] gap-1 py-3 px-4 items-center",q&&"bg-muted/30"),children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsxs)("div",{className:"text-sm font-semibold",children:[(0,j.format)(a,"d",{locale:z.nl}),"–",(0,j.format)(g,"d MMM",{locale:z.nl}).toLowerCase()]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:i>0?(0,b.jsxs)("span",{className:"font-semibold text-foreground",children:[n(i).toLocaleString("nl-NL",{minimumFractionDigits:1,maximumFractionDigits:1})," ",p]}):(0,b.jsx)("span",{className:"text-muted-foreground/60",children:"—"})})]}),m.map(({date:a,activities:c},e)=>{let f=(0,l.isToday)(a),g=c.length>0;return(0,b.jsx)("div",{className:(0,A.cn)("flex flex-col items-center justify-center min-h-[60px] relative rounded-lg",f&&"bg-primary/5 ring-1 ring-primary/20"),children:g?(0,b.jsxs)("div",{className:"flex flex-col items-center gap-0.5",children:[c.map(a=>{let c=(Number(a.distance_meters)||0)/1e3,e=n(c);return(0,b.jsx)(d.default,{href:`/dashboard/activities/${a.id}`,className:(0,A.cn)("rounded-full flex items-center justify-center font-bold text-white transition-transform hover:scale-110 bg-emerald-500",E(c,!1)),title:a.title||void 0,children:e>=1?`${Math.round(e)}`:e.toFixed(1)},a.id)}),1===c.length&&c[0].title&&(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground truncate max-w-[80px] text-center leading-tight",children:c[0].title.split(" - ")[0]})]}):(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-muted-foreground/20"})},e)})]}),(0,b.jsxs)("div",{className:(0,A.cn)("md:hidden grid grid-cols-[90px_repeat(7,1fr)] gap-0.5 py-2 px-2 items-center",q&&"bg-muted/30"),children:[(0,b.jsxs)("div",{className:"pr-1",children:[(0,b.jsxs)("div",{className:"text-xs font-semibold leading-tight",children:[(0,j.format)(a,"d",{locale:z.nl}),"–",(0,j.format)(g,"d",{locale:z.nl})]}),(0,b.jsx)("div",{className:"text-[10px] text-muted-foreground",children:(0,j.format)(g,"MMM",{locale:z.nl}).toLowerCase()}),i>0&&(0,b.jsxs)("div",{className:"text-xs font-bold text-emerald-600 mt-0.5",children:[n(i).toLocaleString("nl-NL",{minimumFractionDigits:1,maximumFractionDigits:1})," ",p]})]}),m.map(({date:a,activities:c},e)=>{let f=(0,l.isToday)(a),g=c.length>0;return(0,b.jsx)("div",{className:(0,A.cn)("flex flex-col items-center justify-center min-h-[44px] relative rounded",f&&"bg-primary/10"),children:g?(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[c.slice(0,1).map(a=>{let c=(Number(a.distance_meters)||0)/1e3,e=n(c);return(0,b.jsx)(d.default,{href:`/dashboard/activities/${a.id}`,className:(0,A.cn)("rounded-full flex items-center justify-center font-bold text-white bg-emerald-500",E(c,!0)),children:e>=1?Math.round(e):"·"},a.id)}),c.length>1&&(0,b.jsxs)("span",{className:"text-[8px] text-muted-foreground",children:["+",c.length-1]})]}):(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground/15"})},e)})]})]},c)})})]})}a.s(["TrainingLog",()=>F],13827)}];

//# sourceMappingURL=apps_web_src_components_activities_62426fc8._.js.map